<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Empowering the Nation Course Registration" />
  <title>Invoice Confirmation Page - Empowering the Nation</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
  <div class="main">
    <div class="navbar">
      <div class="icon">
        <img src="images/logo.jpg" alt="" width="100" height="100" />
        <h2 class="logo">
          Empowering <br />
          the Nation
        </h2>
      </div>
      <div class="menu" id="navLinks">
        <i class="fa fa-times" onclick="hidemenu()"></i>
        <ul>
          <li><a href="index.html">HOME</a></li>
          <li><a href="about.html">ABOUT</a></li>
          <li><a href="courses.html">COURSES</a></li>
          <li><a href="news.html">NEWS</a></li>
          <li><a href="contact.html">CONTACT</a></li>
          <li>
            <a href="invoice.html"><i class="fa-solid fa-cart-shopping"></i></a>
          </li>
          <li>
            <a href="log.html"><i class="fa-solid fa-user"></i></a>
          </li>
        </ul>
      </div>
      <i class="fa fa-bars" onclick="showmenu()"></i>
    </div>
  </div>

  <div class="connt">

    <table class="table-style">
      <tr>
        <td>
          <form id="course-form">
            <h2>Enter your contact details:</h2>
            <input type="text" id="name" name="name" placeholder="Name" required><br /><br />
            <input type="tel" id="phone" name="phone" placeholder="+27" required><br /><br />
            <input type="email" id="email" name="email" placeholder="Email" required><br /><br />
            
          <input type="text" id="address" name="address" placeholder="Address" required><br /><br >
          <input type="text" id="city" name="city" placeholder="City" required><br /><br />
          <input type="text" id="state" name="state" placeholder="State" required><br /><br />
            <h2>Select your courses:</h2>
          </form>
        </td>
      </tr>
      <tr>
        <td class="td1">
          <h2>SIX MONTHS</h2>
          <input type="checkbox" class="course" value="1500" placeholder="First aid" /> First aid (R1500) <br />
          <input type="checkbox" class="course" value="1500" placeholder="Sewing" /> Sewing (R1500) <br />
          <input type="checkbox" class="course" value="1500" placeholder="Landscaping" /> Landscaping (R1500) <br />
          <input type="checkbox" class="course" value="1500" placeholder="Life skills" /> Life skills (R1500) <br />
        </td>
        <td>
          <h2>SIX Weeks</h2>
          <input type="checkbox" class="course" value="750" placeholder="Childminding" /> Childminding (R750) <br />
          <input type="checkbox" class="course" value="750" placeholder="Cooking" /> Cooking (R750) <br />
          <input type="checkbox" class="course" value="750" placeholder="Garden Maintenance" /> Garden Maintenance
          (R750) <br />
        </td>
      </tr>
      <tr>
        <td>
          <p>Total: R<span id="total">0</span></p>
          <p>Avarege:<span id="avarege"></span></p>
          <p>Discounts:R <span id="discount"></span> </p>
        </td>
      </tr>
      <tr>
        <!--GreatStack. 2022
      How To Make A Popup Using HTML, CSS And JavaScript | Create a Modal Box In HTML Website
      YouTube video
      Available at: https://youtu.be/AF6vGYIyV8M?si=SNBq3sHGZ5XxSMKS
     accessed at: 01/10/24
      -->
        <td class="submit-btn">
          <button type="submit" class="btns" onclick="openPopup()">
            Pay
          </button>
        </td>
      </tr>
    </table>
    <div class="popup" id="popup">
      <!--end here-->
      <!--Web CodePro, 2021
        How To Make Simple Payment Page Using HTML & CSS | HTML CSS Tutorial For Beginners
        YouTube video
        Available at: https://youtu.be/lN9B4uvqVBU?si=CA1VrTJCTYvpMbIw
     accessed at:23/09/2024
        -->
      <div class="container">
        <h1>Confirm your Payment</h1>
        <div class="first-row">
          <div class="owner">
            <h3>Owner</h3>
            <div class="input-field">
              <input type="text" id="cardOwner" placeholder="Name" />
            </div>
          </div>
          <div class="cvv">
            <h3>CVV</h3>
            <input type="password" id="cardCvv" placeholder="CVV" />
          </div>
        </div>
        <div class="second-row">
          <div class="card-number">
            <h3>card-number</h3>
            <div class="input-field">
              <input type="number" id="cardNumber" placeholder="XXXX XXXX XXXX" />
            </div>
          </div>
        </div>
        <div class="third-row">
          <h3>Experation date:</h3>
          <div class="selection">
            <div class="date">
              <select name="months" id="cardMonth" title="months">
                <option value="Jan">Jan</option>
                <option value="Feb">Feb</option>
                <option value="Mar">Mar</option>
                <option value="Apr">Apr</option>
                <option value="May">May</option>
                <option value="Jun">Jun</option>
                <option value="Jul">Jul</option>
                <option value="Aug">Aug</option>
                <option value="Sep">Sep</option>
                <option value="Oct">Oct</option>
                <option value="Nov">Nov</option>
                <option value="Dec">Dec</option>
              </select>
              <select name="years" id="cardYear" title="years">
                <option value="2035">2035</option>
                <option value="2034">2034</option>
                <option value="2033">2033</option>
                <option value="2032">2032</option>
                <option value="2031">2031</option>
                <option value="2030">2030</option>
                <option value="2029">2029</option>
                <option value="2028">2028</option>
                <option value="2027">2027</option>
                <option value="2026">2026</option>
                <option value="2025">2025</option>
                <option value="2024">2024</option>
              </select>
            </div>
            <div class="cards">
              <img src="images/mc.png" alt="" />
              <img src="images/vi.png" alt="" />
              <img src="images/pp.png" alt="" />
            </div>
          </div>
        </div>
        <button class="btn" type="submit" onclick="submitForm(); window.location.href='invoice_two.html';">Pay</button>
    </div>
  </div>
  </div>
  <footer>
    <p>Copyright 2024</p>
    <li>
      <a href="https://www.instagram.com/"><i class="fa-brands fa-instagram"></i></a>
    </li>
    <li>
      <a href="https://x.com/"><i class="fa-brands fa-x-twitter"></i></a>
    </li>
    <li>
      <a href="https://www.facebook.com/"><i class="fa-brands fa-square-facebook"></i></a>
    </li>
    <li>
      <a href="https://mail.google.com/"><i class="fa-solid fa-envelope"></i></a>
    </li>
  </footer>
  <!--javascript-->

  <script>
    //GreatStack. 2022
    //How To Make Website Using HTML & CSS | Full Responsive Multi Page Website Design Step by Step
    //YouTube video
    //Available at: https://youtu.be/oYRda7UtuhA 
    //accessed at: 01/10/24
    var navLinks = document.getElementById("navLinks");

    function showmenu() {
      navLinks.style.right = "0";
    }

    function hidemenu() {
      navLinks.style.right = "-200px";
    }
    //GreatStack. 2022
    //How To Make A Popup Using HTML, CSS And JavaScript | Create a Modal Box In HTML Website
    //YouTube video
    //Available at: https://youtu.be/AF6vGYIyV8M?si=SNBq3sHGZ5XxSMKS
    //accessed at: 01/10/24
    let popup = document.getElementById("popup");

    function openPopup() {
      popup.classList.add("open-popup");
    }


    //intact Adobe, 2018, 
    //How to Calculate Two Textbox Values in Javascript HTML,
    // YouTube video, 
    //available at: https://youtu.be/v6WgrDwgx2U?si=O53fIZkIS5ypOQ_j , 
    //accessed at: 01/10/24

    const checkboxes = document.querySelectorAll('.course');
    const totalDisplay = document.getElementById('total');
    const averageDisplay = document.getElementById('avarege');
    const discountDisplay = document.getElementById('discount');
    const vatRate = 0.15;

    function calculateTotal() {
      let total = 0;
      checkboxes.forEach((checkbox) => {
        if (checkbox.checked) {
          total += parseFloat(checkbox.value);
        }
      });
      totalDisplay.textContent = total.toFixed(2);
    }

    checkboxes.forEach((checkbox) => {
      checkbox.addEventListener('change', calculateTotal);
    });
    function calculateTotalAndAverage() {
  let total = 0;
  let checkedCount = 0;

  checkboxes.forEach((checkbox) => {
    if (checkbox.checked) {
      total += parseFloat(checkbox.value);
      checkedCount++;
    }
  });

  // Determine discount based on the number of selected courses
  let discountRate = 0;
  if (checkedCount === 2) {
    discountRate = 0.05;  // 5% discount for two courses
  } else if (checkedCount === 3) {
    discountRate = 0.10;  // 10% discount for three courses
  } else if (checkedCount > 3) {
    discountRate = 0.15;  // 15% discount for more than three courses
  }

  // Calculate discount
  const discountAmount = total * discountRate;
  const discountedTotal = total - discountAmount;

  // Apply VAT (15%)
  const vatAmount = discountedTotal * vatRate;
  const finalTotal = discountedTotal + vatAmount;

  // Calculate average
  const average = checkedCount > 0 ? (finalTotal / checkedCount).toFixed(2) : 0;

  // Update displays
  totalDisplay.textContent = finalTotal.toFixed(2);
  averageDisplay.textContent = average;
  discountDisplay.textContent = discountAmount.toFixed(2); // Display discount
}

checkboxes.forEach((checkbox) => {
  checkbox.addEventListener('change', calculateTotalAndAverage);
});
//Web Dev Simplified,2019
//JavaScript Form Validation
//YouTube video
//available at:https://youtu.be/In0nB0ABaUk?si=rMZFbIfiub8lhsV-
 //accessed at: 01/10/24
 

function submitForm() {
    // Get form values
    const name = document.getElementById('name').value;
    const phone = document.getElementById('phone').value;
    const email = document.getElementById('email').value;
    const address = document.getElementById('address').value;
    const city = document.getElementById('city').value;
    const state = document.getElementById('state').value;
    const total = document.getElementById('total').textContent;
    const discount = document.getElementById('discount').textContent;
    const cardOwner = document.getElementById('cardOwner').value;
  const cardCvv = document.getElementById('cardCvv').value;
  const cardNumber = document.getElementById('cardNumber').value;
  const cardMonth = document.getElementById('cardMonth').value;
  const cardYear = document.getElementById('cardYear').value;

    // Validate form fields
    if (!name || !phone || !email || !address || !city || !state) {
      alert('Please fill in all required fields.');
      return;
    }


    // Store values in localStorage
    localStorage.setItem('name', name);
    localStorage.setItem('phone', phone);
    localStorage.setItem('email', email);
    localStorage.setItem('address', address);
    localStorage.setItem('city', city);
    localStorage.setItem('state', state);
    localStorage.setItem('total', total);
    localStorage.setItem('discount', discount);
    localStorage.setItem('cardOwner', cardOwner);
    localStorage.setItem('cardCvv', cardCvv);
    localStorage.setItem('cardNumber', cardNumber);
    localStorage.setItem('cardMonth', cardMonth);
    localStorage.setItem('cardYear', cardYear);

    // Redirect to invoice_two.html
    window.location.href = 'invoice_two.html';
  }
  </script>
</body> 
</html>
